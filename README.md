<a id="top"></a>

# –ü–æ–∫—Ä–æ–∫–æ–≤–∞ –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –í–∏–∫–æ–Ω–∞–Ω–Ω—è –ü—Ä–æ—î–∫—Ç—É
–¶–µ–π –ø–æ—Å—ñ–±–Ω–∏–∫ –¥–æ–ø–æ–º–æ–∂–µ —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ –∫–æ–º–ø–ª–µ–∫—Å–Ω—É —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É ***DevOps*** –≤ ***AWS*** –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é ***Terraform***, –≤–∫–ª—é—á–∞—é—á–∏ ***VPC, EKS, RDS, ECR, Jenkins, Argo CD, Prometheus*** —Ç–∞ ***Grafana***.

---

**–ó–º—ñ—Å—Ç**

<a href="#1"><img src="https://img.shields.io/badge/–ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –°–µ—Ä–µ–¥–æ–≤–∏—â–∞-512BD4?style=for-the-badge"/></a> <a href="#2"><img src="https://img.shields.io/badge/–†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –Ü–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏-ECD53F?style=for-the-badge"/></a> <a href="#3"><img src="https://img.shields.io/badge/–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ-007054?style=for-the-badge"/></a> <a href="#4"><img src="https://img.shields.io/badge/–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ú–µ—Ç—Ä–∏–∫ (Prometheus & Grafana)-A9225C?style=for-the-badge"/></a> <a href="#5"><img src="https://img.shields.io/badge/–û—á–∏—â–µ–Ω–Ω—è –†–µ—Å—É—Ä—Å—ñ–≤-18AEFF?style=for-the-badge"/></a>

---

<a id="1"></a>

## 1. –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –°–µ—Ä–µ–¥–æ–≤–∏—â–∞
### 1.1. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –ù–µ–æ–±—Ö—ñ–¥–Ω–∏—Ö –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤
–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —É –≤–∞—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –Ω–∞—Å—Ç—É–ø–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏:

- ***Terraform***: –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ (–≤–µ—Ä—Å—ñ—è ```1.0.0``` –∞–±–æ –≤–∏—â–µ).

- ***AWS CLI***: –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —Ç–∞ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ (–∑ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–º–∏ –æ–±–ª—ñ–∫–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏ —Ç–∞ —Ä–µ–≥—ñ–æ–Ω–æ–º).

- ***kubectl***: –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ (–¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ ***EKS*** –∫–ª–∞—Å—Ç–µ—Ä–æ–º).

- ***Helm***: –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ (–¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è ***Jenkins***, ***Argo CD***, ***Prometheus***, ***Grafana***).

- ***jq***: –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ (—ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞ –¥–ª—è –æ–±—Ä–æ–±–∫–∏ ```JSON```, –∫–æ—Ä–∏—Å–Ω–∏–π –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥—É –≤–∏–≤–æ–¥—ñ–≤ ***Terraform***).

- ***yq***: –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ (—ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞ –¥–ª—è –æ–±—Ä–æ–±–∫–∏ ```YAML```, –∫–æ—Ä–∏—Å–Ω–∏–π –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è ```values.yaml``` –≤ ***CI/CD***).

### 1.2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è ***AWS IAM –†–æ–ª–µ–π***
–î–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ ***EKS*** –≤–∞–º –∑–Ω–∞–¥–æ–±–ª—è—Ç—å—Å—è –¥–≤—ñ ***IAM*** —Ä–æ–ª—ñ:

–†–æ–ª—å –¥–ª—è ***EKS Cluster***: –î–æ–∑–≤–æ–ª—è—î ***EKS*** —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Ä–µ—Å—É—Ä—Å–∏ ***AWS*** –≤—ñ–¥ –≤–∞—à–æ–≥–æ —ñ–º–µ–Ω—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, ***Elastic Load Balancers***, ***Security Groups***). –¶—è —Ä–æ–ª—å –ø–æ–≤–∏–Ω–Ω–∞ –º–∞—Ç–∏ –ø–æ–ª—ñ—Ç–∏–∫—É ***AmazonEKSClusterPolicy***.

–†–æ–ª—å –¥–ª—è ***EKS Node Group***: –î–æ–∑–≤–æ–ª—è—î —ñ–Ω—Å—Ç–∞–Ω—Å–∞–º ***EC2***, —è–∫—ñ —î –≤—É–∑–ª–∞–º–∏ ***EKS***, –≤–∑–∞—î–º–æ–¥—ñ—è—Ç–∏ –∑ ***EKS*** —Ç–∞ —ñ–Ω—à–∏–º–∏ —Å–µ—Ä–≤—ñ—Å–∞–º–∏ ***AWS*** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, ***ECR***, ***S3***). –¶—è —Ä–æ–ª—å –ø–æ–≤–∏–Ω–Ω–∞ –º–∞—Ç–∏ –ø–æ–ª—ñ—Ç–∏–∫–∏ ***AmazonEKSWorkerNodePolicy***, ***AmazonEC2ContainerRegistryReadOnly***, ***AmazonEKS_CNI_Policy***.

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ü—ñ —Ä–æ–ª—ñ –≤—Ä—É—á–Ω—É –≤ –∫–æ–Ω—Å–æ–ª—ñ ***AWS IAM*** –∞–±–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –æ–∫—Ä–µ–º–æ–≥–æ ***Terraform-–∫–æ–¥—É***, —è–∫—â–æ –≤–∏ —â–µ —Ü—å–æ–≥–æ –Ω–µ –∑—Ä–æ–±–∏–ª–∏. –ó–∞–ø–∏—à—ñ—Ç—å —ó—Ö–Ω—ñ ***ARN***.

### 1.3. –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è ***Terraform –ë–µ–∫–µ–Ω–¥—É***
***Terraform*** –∑–±–µ—Ä—ñ–≥–∞—î —Å–≤—ñ–π —Å—Ç–∞–Ω —É ***S3 –±–∞–∫–µ—Ç—ñ*** —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î ***DynamoDB*** –¥–ª—è –±–ª–æ–∫—É–≤–∞–Ω–Ω—è —Å—Ç–∞–Ω—É, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤. –¶–µ –≤–∏–º–∞–≥–∞—î –¥–≤–æ—Ö–µ—Ç–∞–ø–Ω–æ—ó —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó.

1) –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –∫–æ—Ä–µ–Ω–µ–≤–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥—É –ø—Ä–æ—î–∫—Ç—É:

```bash
cd Progect/
```

2) –í—ñ–¥–∫—Ä–∏–π—Ç–µ ```Progect/backend.tf```:

–ó–∞–∫–æ–º–µ–Ω—Ç—É–π—Ç–µ –±–ª–æ–∫ backend ```"s3" { ... }```. –¶–µ –¥–æ–∑–≤–æ–ª–∏—Ç—å ***Terraform*** —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏—Å—è –±–µ–∑ —Å–ø—Ä–æ–±–∏ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ —â–µ –Ω–µ—ñ—Å–Ω—É—é—á–æ–≥–æ –≤—ñ–¥–¥–∞–ª–µ–Ω–æ–≥–æ –±–µ–∫–µ–Ω–¥—É.

3) –í–∏–∫–æ–Ω–∞–π—Ç–µ –ø–æ—á–∞—Ç–∫–æ–≤—É —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é —Ç–∞ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –±–µ–∫–µ–Ω–¥—É:

```bash
terraform init
terraform apply -target=module.s3_backend -auto-approve
```

–¶—è –∫–æ–º–∞–Ω–¥–∞ —Å—Ç–≤–æ—Ä–∏—Ç—å ***S3*** –±–∞–∫–µ—Ç —Ç–∞ ***DynamoDB*** —Ç–∞–±–ª–∏—Ü—é.

4) –í—ñ–¥–∫—Ä–∏–π—Ç–µ ```Progect/backend.tf``` –∑–Ω–æ–≤—É:

–†–æ–∑–∫–æ–º–µ–Ω—Ç—É–π—Ç–µ –±–ª–æ–∫ ```backend "s3" { ... }```.

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ ```bucket```, ```dynamodb_table``` —Ç–∞ ```region``` —É —Ü—å–æ–º—É –±–ª–æ—Ü—ñ —Ç–æ—á–Ω–æ —Å–ø—ñ–≤–ø–∞–¥–∞—é—Ç—å –∑ –Ω–∞–∑–≤–∞–º–∏, —è–∫—ñ –≤–∏ –≤–∫–∞–∑–∞–ª–∏ —É ```module "s3_backend"```.

5) –í–∏–∫–æ–Ω–∞–π—Ç–µ –ø–æ–≤—Ç–æ—Ä–Ω—É —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –≤—ñ–¥–¥–∞–ª–µ–Ω–æ–≥–æ –±–µ–∫–µ–Ω–¥—É:

```bash
terraform init
```

–¢–µ–ø–µ—Ä ***Terraform*** –±—É–¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ ***S3*** —Ç–∞ ***DynamoDB*** –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ç–∞ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è —Å—Ç–∞–Ω—É.

1.4. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è ```main.tf``` —Ç–∞ ```values.yaml```
–í—ñ–¥–∫—Ä–∏–π—Ç–µ ```rogect/main.tf``` —Ç–∞ –≤–Ω–µ—Å—ñ—Ç—å –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∑–º—ñ–Ω–∏:

```module "vpc"```: –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ ```vpc_name```, ```vpc_cidr_block```, ```public_subnet_cidrs```, ```private_subnet_cidrs``` –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –≤–∞—à–∏–º –≤–∏–º–æ–≥–∞–º.

–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å ```use_aurora = true``` –¥–ª—è ***Aurora*** –∞–±–æ ```false``` –¥–ª—è –∑–≤–∏—á–∞–π–Ω–æ—ó ***RDS***.

–ù–∞–ª–∞—à—Ç—É–π—Ç–µ ```engine```, ```engine_version```, ```instance_class``` (–¥–ª—è ***RDS***) –∞–±–æ ```cluster_instance_class``` (–¥–ª—è ***Aurora***).

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª .env –ø–æ—Ä—É—á –∑ docker-compose.yaml –∑ —Ç–∞–∫–∏–º–∏ –∑–º—ñ–Ω–Ω–∏–º–∏:

DATABASE_NAME=your_local_db
DATABASE_USER=your_local_user
DATABASE_PASSWORD=your_local_password

[Top :arrow_double_up:](#top)

---

<a id="2"></a>

## 2. –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –Ü–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ üöÄ
–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∏ –∑–Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å —É –∫–æ—Ä–µ–Ω–µ–≤–æ–º—É –∫–∞—Ç–∞–ª–æ–∑—ñ –ø—Ä–æ—î–∫—Ç—É (```Progect/```).

–ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –ø–ª–∞–Ω —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è:

```
terraform plan
```

–£–≤–∞–∂–Ω–æ –ø–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –≤—Å—ñ —Ä–µ—Å—É—Ä—Å–∏, —è–∫—ñ –±—É–¥—É—Ç—å —Å—Ç–≤–æ—Ä–µ–Ω—ñ.

–ó–∞—Å—Ç–æ—Å—É–π—Ç–µ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é:

```
terraform apply -auto-approve
```

–¶—è –∫–æ–º–∞–Ω–¥–∞ —Ä–æ–∑–≥–æ—Ä–Ω–µ –≤—Å—é —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤ ***AWS***. –¶–µ –º–æ–∂–µ –∑–∞–π–Ω—è—Ç–∏ –∑–Ω–∞—á–Ω–∏–π —á–∞—Å (30-60 —Ö–≤–∏–ª–∏–Ω), –æ—Å–æ–±–ª–∏–≤–æ –¥–ª—è ***EKS***.

–û–Ω–æ–≤—ñ—Ç—å ```kubeconfig``` –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ ***EKS***:
–ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è ***EKS*** –∫–ª–∞—Å—Ç–µ—Ä–∞, –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –æ–Ω–æ–≤–∏—Ç–∏ –≤–∞—à –ª–æ–∫–∞–ª—å–Ω–∏–π ```kubeconfig``` —Ñ–∞–π–ª, —â–æ–± ```kubectl``` —Ç–∞ ***Helm*** –º–æ–≥–ª–∏ –≤–∑–∞—î–º–æ–¥—ñ—è—Ç–∏ –∑ –∫–ª–∞—Å—Ç–µ—Ä–æ–º.

```
aws eks update-kubeconfig --name $(terraform output -raw cluster_name) --region eu-central-1
```

–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è:

```
kubectl get svc
```

–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞–Ω—É —Ä–µ—Å—É—Ä—Å—ñ–≤ ***Kubernetes***:
–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –≤—Å—ñ –ø–æ–¥–∏ —Ç–∞ —Å–µ—Ä–≤—ñ—Å–∏ —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç—ñ –∫–æ—Ä–µ–∫—Ç–Ω–æ.

```
kubectl get all -n jenkins
kubectl get all -n argocd
# –î–ª—è Prometheus —Ç–∞ Grafana, —è–∫—â–æ –≤–∏ —ó—Ö —Ä–æ–∑–≥–æ—Ä–Ω—É–ª–∏:
# kubectl get all -n monitoring
```

[Top :arrow_double_up:](#top)

---

<a id="3"></a>

## 3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ

### 3.1. Jenkins
1) –û—Ç—Ä–∏–º–∞–π—Ç–µ URL Jenkins:

```
terraform output jenkins_url
```

–Ø–∫—â–æ ***Jenkins*** —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–æ –∑ ***LoadBalancer***, –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ –ø—É–±–ª—ñ—á–Ω–∏–π ***DNS-—Ö–æ—Å—Ç***. –Ø–∫—â–æ –Ω—ñ, –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ ```kubectl port-forward```.

2) –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ—Ä—Ç—É (—è–∫—â–æ ***LoadBalancer*** –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∞–±–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω –ª–æ–∫–∞–ª—å–Ω–∏–π –¥–æ—Å—Ç—É–ø):

```
kubectl port-forward svc/jenkins -n jenkins 8080:8080
```

–í—ñ–¥–∫—Ä–∏–π—Ç–µ —É –±—Ä–∞—É–∑–µ—Ä—ñ ```http://localhost:8080```.

3) –û—Ç—Ä–∏–º–∞–π—Ç–µ –ø–æ—á–∞—Ç–∫–æ–≤–∏–π –ø–∞—Ä–æ–ª—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ ***Jenkins***:

```
terraform output -raw jenkins_admin_password
```

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —ñ–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ ```admin``` —Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–∏–π –ø–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥—É.

### 3.2. ***Argo CD***
1) –û—Ç—Ä–∏–º–∞–π—Ç–µ ***URL Argo CD***:

```
terraform output argocd_server_url
```

–Ø–∫—â–æ ***Argo CD*** —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–æ –∑ ```LoadBalancer```, –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ –ø—É–±–ª—ñ—á–Ω–∏–π ***DNS-—Ö–æ—Å—Ç***.

2) –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ—Ä—Ç—É (—è–∫—â–æ ```LoadBalancer``` –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∞–±–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω –ª–æ–∫–∞–ª—å–Ω–∏–π –¥–æ—Å—Ç—É–ø):

```
kubectl port-forward svc/argocd-server -n argocd 8081:443
```

–í—ñ–¥–∫—Ä–∏–π—Ç–µ —É –±—Ä–∞—É–∑–µ—Ä—ñ ```https://localhost:8081``` (–∑–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É –Ω–∞ ```HTTPS```).

3) –û—Ç—Ä–∏–º–∞–π—Ç–µ –ø–æ—á–∞—Ç–∫–æ–≤–∏–π –ø–∞—Ä–æ–ª—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ ***Argo CD***:

```
terraform output -raw argocd_initial_admin_password
```

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —ñ–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ ```admin``` —Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–∏–π –ø–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥—É.

[Top :arrow_double_up:](#top)

---

<a id="4"></a>

## 4. –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ú–µ—Ç—Ä–∏–∫ (Prometheus & Grafana)

>[!tip]
>–ü—Ä–∏–º—ñ—Ç–∫–∞: –î–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è ***Prometheus*** —Ç–∞ ***Grafana*** –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–¥–µ –¥–æ–¥–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ ***Helm-—á–∞—Ä—Ç–∏*** —Ç–∞ —ó—Ö –≤–∏–∫–ª–∏–∫–∏ –¥–æ ```main.tf``` —Ç–∞ ```values.yaml``` (–∞–Ω–∞–ª–æ–≥—ñ—á–Ω–æ ***Jenkins*** —Ç–∞ ***Argo CD***).

–ü—ñ—Å–ª—è —ó—Ö —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è:

1) –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ—Ä—Ç—É ***Grafana***:

```
kubectl port-forward svc/grafana -n monitoring 3000:80
```

–í—ñ–¥–∫—Ä–∏–π—Ç–µ —É –±—Ä–∞—É–∑–µ—Ä—ñ ```http://localhost:3000```.

2) –í—Ö—ñ–¥ —É ***Grafana***:

- –¢–∏–ø–æ–≤—ñ –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ: ```admin/prom-operator``` (–∞–±–æ ```admin/admin```, —è–∫—â–æ –Ω–µ –∑–º—ñ–Ω–µ–Ω–æ —á–∞—Ä—Ç–æ–º).

- –ó–º—ñ–Ω—ñ—Ç—å –ø–∞—Ä–æ–ª—å –ø—ñ—Å–ª—è –ø–µ—Ä—à–æ–≥–æ –≤—Ö–æ–¥—É.

2) –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞–Ω—É –º–µ—Ç—Ä–∏–∫:

- –£ ***Grafana*** –ø–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ ***"Data Sources"*** —ñ –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ ***Prometheus*** –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ.

- –Ü–º–ø–æ—Ä—Ç—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ –¥–∞—à–±–æ—Ä–¥–∏ ***Kubernetes*** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, ***Node Exporter Full***, ***Kubernetes Pods***) –∞–±–æ —Å—Ç–≤–æ—Ä—ñ—Ç—å –≤–ª–∞—Å–Ω—ñ, —â–æ–± –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –º–µ—Ç—Ä–∏–∫–∏.

[Top :arrow_double_up:](#top)

---

<a id="5"></a>

## 5. –û—á–∏—â–µ–Ω–Ω—è –†–µ—Å—É—Ä—Å—ñ–≤

‚ö†Ô∏è –£–í–ê–ì–ê! ‚ö†Ô∏è –í–∏–¥–∞–ª–µ–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ ***Terraform*** –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –≤—Å—ñ—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤, –≤–∫–ª—é—á–∞—é—á–∏ ***S3*** –±–∞–∫–µ—Ç —ñ ***DynamoDB*** —Ç–∞–±–ª–∏—Ü—é, —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω—É ***Terraform***.

1) –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∏ –∑–Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å —É –∫–æ—Ä–µ–Ω–µ–≤–æ–º—É –∫–∞—Ç–∞–ª–æ–∑—ñ –ø—Ä–æ—î–∫—Ç—É (```Progect/```).

2) –í–∏–∫–æ–Ω–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥—É –∑–Ω–∏—â–µ–Ω–Ω—è:

```
terraform destroy -auto-approve
```

–ü—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å –≤–∏–¥–∞–ª–µ–Ω–Ω—è. –¶–µ –º–æ–∂–µ –∑–∞–π–Ω—è—Ç–∏ –¥–µ—è–∫–∏–π —á–∞—Å.

–Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –∑–±–µ—Ä–µ–≥—Ç–∏ ***S3*** –±–∞–∫–µ—Ç —Ç–∞ ***DynamoDB*** —Ç–∞–±–ª–∏—Ü—é –¥–ª—è —Å—Ç–∞–Ω—É ***Terraform***:

–í–∏–¥–∞–ª—ñ—Ç—å –±–ª–æ–∫ ```module "s3_backend"``` –∑ ```Progect/backend.tf```.

–ó–∞–∫–æ–º–µ–Ω—Ç—É–π—Ç–µ –±–ª–æ–∫ ```backend "s3" { ... }``` —É ```Progect/backend.tf```.

–í–∏–∫–æ–Ω–∞–π—Ç–µ ```terraform init -migrate-state``` (—â–æ–± –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å—Ç–∞–Ω –ª–æ–∫–∞–ª—å–Ω–æ –∞–±–æ –≤—ñ–¥–∫–ª—é—á–∏—Ç–∏ –±–µ–∫–µ–Ω–¥).

–ü–æ—Ç—ñ–º –≤–∏–∫–æ–Ω–∞–π—Ç–µ ```terraform destroy -auto-approve```.

–¶—è —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –æ—Ö–æ–ø–ª—é—î –≤—Å—ñ –æ—Å–Ω–æ–≤–Ω—ñ –µ—Ç–∞–ø–∏ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è  –ø—Ä–æ—î–∫—Ç–æ–º ***DevOps***.

[Top :arrow_double_up:](#top)